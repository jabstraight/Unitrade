<!-- frontend/pages/create-listing.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Post an Item - UniMarket</title>
  <link rel="stylesheet" href="../assets/css/uploadstyle.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
  <!-- Header -->
  <header>
    <div class="header-content">
      <a href="\index.html" class="logo">UniMarket</a>
      
      <button class="mobile-menu-btn" id="mobileMenuBtn">
        <i class="fas fa-bars"></i>
      </button>
      
      <nav class="nav-links" id="navLinks">
        <a href="\index.html">Home</a>
        <a href="categories.html">Categories</a>
        <div id="loggedInLinks">
          <a href="account.html">Account</a>
          <a href="#" id="logoutBtn">Logout</a>
        </div>
        <div id="loggedOutLinks" style="display: none;">
          <a href="login.html">Login</a>
          <a href="register.html">Register</a>
        </div>
      </nav>
    </div>
  </header>

  <!-- Main Content -->
  <div class="main-content">
    <div class="form-container">
      <h1 class="form-title">Post an Item for Sale</h1>
      
      <div id="alertContainer"></div>
      
      <form id="createListingForm" enctype="multipart/form-data">
        <!-- Image Upload -->
        <div class="form-group image-upload-container">
          <label class="form-label">Item Photos (max 5)</label>
          <label for="images" class="image-upload-label">
            <i class="fas fa-cloud-upload-alt image-upload-icon"></i>
            <span>Click to upload or drag images here</span>
            <input type="file" id="images" name="images" accept="image/*" multiple class="image-upload-input">
          </label>
          <div class="form-text">First image will be the cover. Clear photos help sell items faster.</div>
          <div id="imagePreviewContainer" class="img-preview-container"></div>
        </div>
        
        <!-- Title -->
        <div class="form-group">
          <label for="title" class="form-label">Title*</label>
          <input type="text" class="form-control" id="title" name="title" required maxlength="50" placeholder="What are you selling?">
          <div class="form-text">Be clear and descriptive (max 50 characters)</div>
        </div>

        <!-- Price -->
        <div class="form-group">
          <label for="price" class="form-label">Price*</label>
          <div style="position: relative;">
            <input type="number" class="form-control" id="price" name="price" required min="0" step="0.01" placeholder="0.00" style="padding-left: 1.5rem;">
            <span style="position: absolute; left: 0.75rem; top: 0.75rem;">$</span>
          </div>
        </div>

        <!-- Category & Condition (Side by Side) -->
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
          <div class="form-group">
            <label for="category" class="form-label">Category*</label>
            <select class="form-select" id="category" name="category" required>
              <option value="">Select a category</option>
              <option value="Textbooks">Textbooks</option>
              <option value="Electronics">Electronics</option>
              <option value="Furniture">Furniture</option>
              <option value="Clothing">Clothing</option>
              <option value="Kitchen">Kitchen</option>
              <option value="Sports">Sports</option>
              <option value="Other">Other</option>
            </select>
          </div>

          <div class="form-group">
            <label for="condition" class="form-label">Condition*</label>
            <select class="form-select" id="condition" name="condition" required>
              <option value="">Select condition</option>
              <option value="New">New</option>
              <option value="Like New">Like New</option>
              <option value="Good">Good</option>
              <option value="Fair">Fair</option>
              <option value="Poor">Poor</option>
            </select>
          </div>
        </div>

        <!-- Location -->
        <div class="form-group">
          <label for="location" class="form-label">Campus Location*</label>
          <input type="text" class="form-control" id="location" name="location" required placeholder="Which building/area on campus?">
        </div>

        <!-- Description -->
        <div class="form-group">
          <label for="description" class="form-label">Description*</label>
          <textarea class="form-control" id="description" name="description" rows="4" required maxlength="1000" placeholder="Describe your item - include details about condition, features, and why you're selling"></textarea>
          <div class="form-text"><span id="charCount">0</span>/1000 characters</div>
        </div>

        <!-- Submit Button -->
        <button type="submit" class="btn btn-primary btn-block">Post Item</button>
      </form>
    </div>
  </div>

  <!-- Scripts -->
  <script src="../assets/js/auth.js"></script>
  <script src="../assets/js/create-listing.js"></script>
  <script>
    // Mobile menu toggle
    document.getElementById('mobileMenuBtn').addEventListener('click', function() {
      const navLinks = document.getElementById('navLinks');
      navLinks.style.display = navLinks.style.display === 'flex' ? 'none' : 'flex';
    });
  </script>
</body>
</html>